<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.min.js"></script>
</head>
<body>
    <!-- bootstrap - class로 가져온다 -->
    <div class="container">    
        <div class="text-end my-3">
            <button class="btn btn-primary">삭제</button>
            <button class="btn btn-danger d-none" disabled>확인</button>
        </div>
        <ul>
            <li class="form-check border border-0 border-bottom border-3 border-primary mb-3"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate text-center"><strong>제목</strong></p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 없을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명할 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 있다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">한 회계연도를 넘어 계속하여 지출할 필요가 있을 때에는 정부는 연한을 정하여 계속비로서 국회의 의결을 얻어야 한다. 대통령의 선거에 관한 사항은 법률로 정한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
            <li class="form-check"><input type="checkbox" class="form-check-input invisible"><p class="text-truncate">군인은 현역을 면한 후가 아니면 국무위원으로 임명될 수 없다. 누구든지 병역의무의 이행으로 인하여 불이익한 처우를 받지 아니한다. 국무총리는 국회의 동의를 얻어 대통령이 임명한다.</p></li>
        </ul>    
    </div>
    <script>
        $("button:eq(1)").click(function() {
            $(":checkbox:gt(0):checked").parent().remove();
            $(":checkbox").prop("checked", false);
        })

        $("button:eq(0)").click(function() {
            $(this)
            .text(function(i, j, k) {
                return $(this).text() == "삭제" ? "삭제취소" : "삭제";
            })
                .next().toggleClass("d-none");
            // alert(this.innerText);
            
            $(":checkbox").toggleClass("invisible");
        });

        function toggleConfirmBtn() {
            const $chbox = $("input:checkbox:gt(0)");
            $(":checkbox:first").prop("checked", !($chbox.length - $chbox.filter(":checked").length));
            $("button:eq(1)").prop("disabled", !($chbox.filter(":checked").length));
            
            // console.log($(":checkbox:checked").length); // 줄이면 위에 코드가된다    

            // let flag1 = false;
            // let flag2 = true;

            // for(let i = 0 ; i < $chbox.length ; i++) {
            //     console.log($chbox[i].checked);                 
                
            //     if($chbox[i].checked) {
            //         flag1 = true;
            //     }
            //     else {
            //         flag2 = false;
            //     }
            // }

            // $(":checkbox:first").prop("checked", !($chbox.length - $chbox.filter(":checked").length));
            // $("button:eq(1)").prop("disabled", !($(":checkbox:checked").length));
        }

        // 체크박스를 (change)선택했을 때 이벤트(로그확인)
        $(":checkbox")
            .filter(":first") // 첫번째만 적용되게 필터를 줌
            .change(function() {
                console.log("checkbox");            
                console.log(this.checked);
                $(":checkbox").prop("checked", this.checked)
                toggleConfirmBtn();
                
                
            });
        
        $(":checkbox:gt(0)").change(function() {
            const $chbox = $("input:checkbox:gt(0)");

            let flag1 = false;

            for(let i = 0 ; i < $chbox.length ; i++) {
                console.log($chbox[i].checked);                 
                if($chbox[i].checked) {
                    flag1 = true;
                }
            }
            $("button:eq(1)").prop("disabled", !flag1);
            
            
        })
        $(":checkbox:gt(0)").change(toggleConfirmBtn)
        // 하위 체크박스 선택시 할 일 정의
        // 단 하나의 체크라도 활성화 되어 있을 경우 확인 버튼 활성화
        // 단 하나의 체크라도 비활성화 최초의 체크박스 비활성화
                
                
    </script>
</body>
</html>